<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>文书分析</title>

	<!--Favicon-->
	<link rel="icon" href="assets/img/favicon.png" type="image/jpg" />
	<!-- Bootstrap CSS -->
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<!-- Font Awesome CSS-->
	<link href="css/font-awesome.min.css" rel="stylesheet">
	<!-- Line Awesome CSS -->
	<link href="css/line-awesome.min.css" rel="stylesheet">
	<!-- Animate CSS-->
	<link href="css/animate.css" rel="stylesheet">
	<!-- Magnific Popup Video -->
	<link href="css/magnific-popup.css" rel="stylesheet">
	<!-- Flaticon CSS -->
	<link href="css/flaticon.css" rel="stylesheet">
	<!-- Owl Carousel CSS -->
	<link href="css/owl.carousel.css" rel="stylesheet">
	<!-- Style CSS -->
	<link href="css/style.css" rel="stylesheet">
	<!-- Responsive CSS -->
	<link href="css/responsive.css" rel="stylesheet">

	<link href="css/jquery.highlighttextarea.css" rel="stylesheet">


	<!-- jquery -->
	<script src="js/jquery-1.12.4.min.js"></script>

	<script src="js/main_page.js"></script>

	<script>
		window.onload = function(){
			var str = window.localStorage.getItem('search');
			window.localStorage.removeItem('search');//清除字符串
			$.ajax({
				type: "GET",
				url: '/static/init?fileName='+str,         //对应的后台处理类的地址
				/*data:{fileName:str},*/
				processData: false,
				contentType: false,
				success: function (data) {//后端给前端
					alert("here")
					console.log(data)
					$('#demo7').val(data);//显示
				}
			});
			$('#demo7').val(str);//显示
		}

		<!--jquery异步提交数据-->

		</script>
	<style>
		#demo7-textarea mark {
			padding: 0 3px;
			margin: 0 -3px;
			border-radius: 0.5em;
			background-color: #ADF0FF !important;
		}
	</style>
</head>

<body>

	<!-- Pre-Loader -->
	<div id="loader">
		<div class="loading">
			<div class="sk-circle">
				<div class="sk-circle1 sk-child"></div>
				<div class="sk-circle2 sk-child"></div>
				<div class="sk-circle3 sk-child"></div>
				<div class="sk-circle4 sk-child"></div>
				<div class="sk-circle5 sk-child"></div>
				<div class="sk-circle6 sk-child"></div>
				<div class="sk-circle7 sk-child"></div>
				<div class="sk-circle8 sk-child"></div>
				<div class="sk-circle9 sk-child"></div>
				<div class="sk-circle10 sk-child"></div>
				<div class="sk-circle11 sk-child"></div>
				<div class="sk-circle12 sk-child"></div>
			</div>
		</div>
	</div>

	<!-- Header Area 迭代：方便文书阅读删除了sticky-area-->

	<header id="header-2" class="header-area absolute-header pt-50">
		<div class="sticky-area">
			<div class="navigation">
				<div class="container-fluid">
					<div class="row">
						<div class="col-lg-3 col-12">
							<div class="logo">
								<a class="navbar-brand" href="首页.html"><img src="picture/logo-white.png" alt=""></a>
							</div>
						</div>

						<div class="col-lg-6 col-12">
							<div class="main-menu">
								<nav class="navbar navbar-expand-lg">
									<button class="navbar-toggler" type="button" data-toggle="collapse"
											data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
											aria-expanded="false" aria-label="Toggle navigation">
										<span class="navbar-toggler-icon"></span>
										<span class="navbar-toggler-icon"></span>
										<span class="navbar-toggler-icon"></span>
									</button>

									<div class="collapse navbar-collapse justify-content-center"
										 id="navbarSupportedContent">
										<ul class="navbar-nav m-auto">
											<li class="nav-item">
												<a class="nav-link active" href="首页.html">首页
													<span class="sub-nav-toggler">
													</span>
												</a>
											</li>

											<li class="nav-item">
												<a class="nav-link" href="文书分析.html">文书分析
													<span class="sub-nav-toggler">
													</span>
												</a>
											</li>
											<li class="nav-item">
												<a class="nav-link" href="案例库.html">案例库
													<span class="sub-nav-toggler">
													</span>
												</a>
											</li>

											<li class="nav-item">
												<a class="nav-link">相关科普
													<span class="sub-nav-toggler">
													</span>
												</a>
												<ul class="sub-menu">
													<li><a href="数据展示.html">数据展示</a></li>
													<li><a href="法条推荐.html">法条推荐</a></li>
												</ul>
											</li>

											<li class="nav-item">
												<a class="nav-link" href="联系我们.html">联系我们</a>
											</li>
										</ul>

									</div>
								</nav>
							</div>
						</div>
						<div class="col-lg-3 col-12 text-right">
							<div class="header-right-content">
								<a href="https://wenshu.court.gov.cn/website/wenshu/181029CR4M5A62CH/index.html"
								   class="main-btn">更多信息</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>


	<!-- 封面Breadcroumb Area -->

	<div class="breadcroumb-area">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="breadcroumb-title">
						<h1>文书分析</h1>
						<h6><a href="首页.html">首页</a> / 文书分析</h6>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Blog Area  文书阅读分析区域-->
	<div class="col-lg-12" style="margin-bottom: -25px">
		<form action="服务器地址" method="get"></form>
		<p>
			<button type="submit" onclick="spyder()">爬取案件</button>
			&nbsp;开始日期：
			<input type="date" name="start_date" id="start_date" value="2022-01-22" style="border: 1px solid #ddd">
			&nbsp;结束日期：
			<input type="date" name="end_date" id="end_date" value="2022-01-22" style="border: 1px solid #ddd">
			&nbsp;文书数量：
			<input type="number" step="10" min="0" max="100" name="number" id="number" value="0" style="border: 1px solid #ddd">
			</form>
		</p>

		<p>
			<input type="submit" value="上传" onclick="submit2();"/>
			<input id="file" type="file"/>

			<input type="submit" value="提交" onclick="submitTXT()"/>
			<span class="popular-tag">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<span><a href="JavaScript:sentence();">摘要生成</a></span>
				<span><a href="JavaScript:function2();">基本信息</a></span>
				<span><a href="JavaScript:getVadj();function3();">自动分词</a></span>
				<span><a href="JavaScript:function4();">相似案件</a></span>
			</span>


		</p>
	</div>
	<div id="demo7-tools" style="margin-left: 78.5%;height: 3%;margin-bottom: 4px;">
		<a href="#" class="disable">隐藏高亮 </a> |
		<a href="#" class="enable">显示高亮</a>
	</div>
<!--	文书内容显示框-->
	<form action="">
		<div class="comments-form">
			<div class="row">
				<div class="col-lg-12">
					<textarea name="message" id="demo7" style="width: 74%; border: 1px solid #ddd"></textarea>
					<textarea name="message" id="demo6" style="width: 24%; border: 1px solid #ddd"></textarea>
				</div>
			</div>
		</div>
	</form>

	</div>

	<!-- 这里根据三种情况选择展示页面 -->
	<iframe id="3cases"class="frame-style" scrolling="no" height="600" width="1300" frameborder="0">

	</iframe>

	<!-- Footer Area -->
	<footer class="footer-area dark-bg wow fadeIn" data-wow-delay=".3s">
		<div class="container">
			<div class="footer-up">
				<div class="row">
					<div class="col-lg-3 col-md-6 col-sm-12">
						<div class="logo">
							<img src="picture/logo-white.png" alt="expoint-logo">
							<p>我们是司法大数据的分析者。我们希望用数据创造更公正的明天。</p>
						</div>
					</div>
					<div class="col-lg-2 offset-lg-1 col-md-6 com-sm-12">
						<h5>Explore</h5>
						<ul>
							<li>
								<a href="文书分析.html">文书分析</a>
								<a href="案例库.html">案例库</a>
								<a href="数据展示.html">数据展示</a>
								<a href="法条推荐.html">法条推荐</a>
								<a href="联系我们.html">联系我们</a>
							</li>
						</ul>
					</div>
					<div class="col-lg-3 col-md-6 col-sm-12">
						<h5>涉及领域</h5>
						<ul>
							<li>
								<a href="高频法条.html"><span>-</span> 宪法</a>
								<a href="高频法条.html"><span>-</span> 民事</a>
								<a href="高频法条.html"><span>-</span> 刑事 </a>
								<a href="高频法条.html"><span>-</span> 经济</a>
								<a href="高频法条.html"><span>-</span> 行政</a>
							</li>
						</ul>
					</div>
					<div class="col-lg-3 col-md-6">
						<div class="subscribe-form">
							<h5>联系我们</h5>
							<p>如果你有任何建议，或者像问答机器人等司法大数据的分析灵感，欢迎联系我们。</p>
							<form action="联系我们.html">
								<button class="main-btn">联系我们</button>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</footer>


	<!-- Scroll Top Area -->
	<a href="#top" class="go-top"><i class="las la-angle-up"></i></a>
	<script>
		var data1;
		/*function function3() {
			//获取名词
			$.ajax({
			type: "POST",
			url: '/download/fenci',
			processData: false,
			contentType: false,
			success: function (data) {
				var last = JSON.stringify(data)//js对象转json字符串
				//设置localStorage，将json字符串传给分词页
				window.localStorage.setItem('user',last);
				data1 = data.gender.concat(data.criminals).concat(data.ethnicity).concat(data.birthplace).concat(data.accusation).concat(data.courts)
				test()//显示高亮
				}
			});
			//获取动词形容词
			$.ajax({
				type: "POST",
				url: '/download/vadj',
				processData: false,
				contentType: false,
				success: function (data) {
					window.localStorage.setItem('vadj',data);//传的是json字符串
					document.getElementById("3cases").src = "分词页.html"
				}
			});

		}*/

		function function3() {
			//获取名词
			$.ajax({
				type: "POST",
				url: '/download/fenci',
				processData: false,
				contentType: false,
				success: function (data) {
					var last = JSON.stringify(data)//js对象转json字符串
					window.localStorage.setItem('user',last);
					data1 = data.gender.concat(data.criminals).concat(data.ethnicity).concat(data.birthplace).concat(data.accusation).concat(data.courts)
					document.getElementById("3cases").src = "分词页.html"
					test()//显示高亮
				}
			});

			//获取动词形容词

		}
		function getVadj(){
			$.ajax({
				type: "POST",
				url: '/download/vadj',
				processData: false,
				contentType: false,
				success: function (data) {
					console.log(data)
					window.localStorage.setItem('vadj',data);//传的是json字符串
					/*document.getElementById("3cases").src = "分词页.html"*/
				}
			});
		}


		function appendScript(src, callback) {
			var head = document.getElementsByTagName('head')[0];

			if (src.endsWith(".js")) {
				var elt = document.createElement("script");
				elt.type = "text/javascript";
				elt.src = src;
			} else {
				var elt = document.createElement("link");
				elt.rel = "stylesheet";
				elt.link = src;
			}

			elt.onload = function () {
				callback();
			}

			head.appendChild(elt);
		}

		function runTest() {
			var data2 = data1

			$('#demo7').highlightTextarea({
				id: 'demo7-textarea',
				words: data2
			});

			$('#demo7-tools .disable').click(function (e) {
				$('#demo7').highlightTextarea('disable');
				e.preventDefault();
			});
			$('#demo7-tools .enable').click(function (e) {
				$('#demo7').highlightTextarea('enable');
				addDemo7Events();
				e.preventDefault();
			});
			addDemo7Events();
		}


		function addDemo7Events() {
			$('#demo7-textarea mark')
					.on('mouseover', function (e) {
						$('#demo7-last-event').html('Mouseover');
					})
					.on('mouseout', function (e) {
						$('#demo7-last-event').html('Mouseout');
					});
		}

		function submit2() {
			var type = "upload";          //后台接收时需要的参数名称，自定义即可
			var id = "file";            //即input的id，用来寻找值
			var formData = new FormData();
			formData.append(type, $("#" + id)[0].files[0]);    //生成一对表单属性
			$.ajax({
				type: "POST",           //因为是传输文件，所以必须是post
				url: '/upload/file',         //对应的后台处理类的地址
				data: formData, //前端给后端
				processData: false,
				contentType: false,
				success: function (data) {//后端给前端
					alert("here")
					console.log(data)
					$('#demo7').val(data);//显示
				}
			});
		}
		function submitTXT() {
			var words = $('#demo7').val();

			$.post("/upload/words", {txt: words}, function (data) {
				alert(data)
			}, "text")
		}
		function sentence(){
			$.ajax({
				type: "POST",           //因为是传输文件，所以必须是post
				url: '/download/sentence',         //对应的后台处理类的地址
				processData: false,
				contentType: false,
				success: function (data) {//后端给前端
					alert("here")
					console.log(data)
					$('#demo6').val(data);//显示
				}
			});
		}
		function function2() {
			$.ajax({
				type: "POST",
				url: '/download/info',
				processData: false,
				contentType: false,
				success: function (data) {
					var last = JSON.stringify(data)//js对象转json字符串
					//设置localStorage，将json字符串传给分词页
					window.localStorage.setItem('info',last);
					document.getElementById("3cases").src = "基本信息展示页.html"
				}
			});

		}

		function spyder() {
			var srt = $("#start_date").val();
			var end = $("#end_date").val();
			var num = $("#number").val();

			if (num > 100) {
				alert("请联系我们升级为vip会员");
			} else {
				var len = num.length;
				num = num.substring(0, len - 1) + '0';

				var msg = "start=" + srt + "&end=" + end + "&num=" + num;
				alert(msg)
				var url = "/download/spyder?" + msg;
				var a = document.createElement("a");
				a.href = url;
				a.click();
			}
		}

		function function4() {
			$.ajax({
				type: "POST",
				url: '/download/recommend',
				processData: false,
				contentType: false,
				success: function (data) {
					window.localStorage.setItem('recommend',data);
				}
			});
			document.getElementById("3cases").src = "相似案件.html"
		}


		function test() {
			var jqv = "jquery-1.11.1.min.js";

			try {
				jqv = window.location.search.split('?')[1].split('=')[1];
			} catch (e) { }

			appendScript("http://code.jquery.com/" + jqv,
					function () {
						$('#jqv').val(jqv);

						appendScript("http://code.jquery.com/ui/1.10.4/jquery-ui.min.js",
								function () {
									appendScript("js/jquery.highlighttextarea.js",
											runTest
									)
								})
					});
		}

	</script>
	<!-- Popper JS -->
	<script src="js/popper.min.js"></script>
	<!-- Bootstrap JS -->
	<script src="js/bootstrap.min.js"></script>
	<!-- Wow JS -->
	<script src="js/wow.min.js"></script>
	<!-- Way Points JS -->
	<script src="js/jquery.waypoints.min.js"></script>
	<!-- Counter Up JS -->
	<script src="js/jquery.counterup.min.js"></script>
	<!-- Owl Carousel JS -->
	<script src="js/owl.carousel.min.js"></script>
	<!-- Magnific Popup JS -->
	<script src="js/magnific-popup.min.js"></script>
	<!-- Sticky JS -->
	<script src="js/jquery.sticky.js"></script>
	<!-- Main JS -->
	<script src="js/main.js"></script>

</body>

</html>